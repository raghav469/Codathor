<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Path Simulator - Enhanced</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-text {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .animate-pulse-custom {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .progress-bar {
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .skill-item {
            transition: all 0.5s ease;
        }
        
        .skill-completed {
            animation: slideIn 0.6s ease-out;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(-20px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .reward-unlocked {
            animation: bounce 0.6s ease-in-out;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .floating-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease-in-out;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .sparkle {
            position: relative;
            overflow: hidden;
        }
        
        .sparkle::after {
            content: '‚ú®';
            position: absolute;
            top: -10px;
            right: -10px;
            animation: sparkle 2s infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0.5) rotate(0deg); }
            50% { opacity: 1; transform: scale(1) rotate(180deg); }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-indigo-100 via-white to-purple-100">
    
    <!-- Notification Container -->
    <div id="notificationContainer"></div>
    
    <!-- Initial Path Selection Screen -->
    <div id="pathSelection" class="min-h-screen p-6">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-12">
                <h1 class="text-6xl font-bold gradient-text mb-6 floating-animation">
                    üöÄ Career Path Simulator
                </h1>
                <p class="text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed">
                    Choose your path and visualize your future success. Set goals, track progress, and unlock rewards along your journey to becoming a tech professional.
                </p>
                <div class="mt-8 flex justify-center items-center gap-4 text-sm text-gray-500">
                    <div class="flex items-center gap-2">
                        <span>üë•</span>
                        <span>Join 5M+ learners</span>
                    </div>
                    <div class="w-1 h-1 bg-gray-400 rounded-full"></div>
                    <div class="flex items-center gap-2">
                        <span>‚≠ê</span>
                        <span>4.9/5 Success Rate</span>
                    </div>
                    <div class="w-1 h-1 bg-gray-400 rounded-full"></div>
                    <div class="flex items-center gap-2">
                        <span>üéØ</span>
                        <span>Personalized Learning</span>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="group cursor-pointer card-hover" onclick="selectPath('web-dev')">
                    <div class="bg-gradient-to-br from-blue-50 via-blue-25 to-purple-50 rounded-3xl p-8 shadow-lg hover:shadow-2xl border-2 border-transparent hover:border-blue-200 relative overflow-hidden">
                        <div class="absolute top-4 right-4 bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-semibold">
                            HOT üî•
                        </div>
                        <div class="text-center">
                            <div class="text-7xl mb-6">üåê</div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-3">Web Development</h3>
                            <p class="text-gray-600 mb-4 text-sm">Build modern websites and web applications</p>
                            <div class="flex justify-center items-center gap-6 text-sm text-gray-600 mb-6">
                                <div class="flex items-center gap-1">
                                    <span>üë•</span>
                                    <span>2.8M+ devs</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <span>üìà</span>
                                    <span>+15% growth</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <span>üí∞</span>
                                    <span>$45K-$110K</span>
                                </div>
                            </div>
                            <div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 px-8 rounded-full font-semibold group-hover:shadow-lg transition-all duration-300 transform group-hover:scale-105">
                                Start Your Journey ‚Üí
                            </div>
                        </div>
                    </div>
                </div>

                <div class="group cursor-pointer card-hover" onclick="selectPath('ai-ml')">
                    <div class="bg-gradient-to-br from-green-50 via-green-25 to-teal-50 rounded-3xl p-8 shadow-lg hover:shadow-2xl border-2 border-transparent hover:border-green-200 relative overflow-hidden">
                        <div class="absolute top-4 right-4 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-semibold">
                            TRENDING ‚ö°
                        </div>
                        <div class="text-center">
                            <div class="text-7xl mb-6">ü§ñ</div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-3">AI & Machine Learning</h3>
                            <p class="text-gray-600 mb-4 text-sm">Create intelligent systems and AI solutions</p>
                            <div class="flex justify-center items-center gap-6 text-sm text-gray-600 mb-6">
                                <div class="flex items-center gap-1">
                                    <span>üë•</span>
                                    <span>1.2M+ devs</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <span>üìà</span>
                                    <span>+35% growth</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <span>üí∞</span>
                                    <span>$55K-$160K</span>
                                </div>
                            </div>
                            <div class="bg-gradient-to-r from-green-500 to-teal-600 text-white py-4 px-8 rounded-full font-semibold group-hover:shadow-lg transition-all duration-300 transform group-hover:scale-105">
                                Start Your Journey ‚Üí
                            </div>
                        </div>
                    </div>
                </div>

                <div class="group cursor-pointer card-hover" onclick="selectPath('blockchain')">
                    <div class="bg-gradient-to-br from-orange-50 via-orange-25 to-red-50 rounded-3xl p-8 shadow-lg hover:shadow-2xl border-2 border-transparent hover:border-orange-200 relative overflow-hidden">
                        <div class="absolute top-4 right-4 bg-orange-500 text-white px-3 py-1 rounded-full text-xs font-semibold">
                            HIGH PAY üíé
                        </div>
                        <div class="text-center">
                            <div class="text-7xl mb-6">‚õìÔ∏è</div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-3">Blockchain Development</h3>
                            <p class="text-gray-600 mb-4 text-sm">Build decentralized applications and smart contracts</p>
                            <div class="flex justify-center items-center gap-6 text-sm text-gray-600 mb-6">
                                <div class="flex items-center gap-1">
                                    <span>üë•</span>
                                    <span>450K+ devs</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <span>üìà</span>
                                    <span>+50% growth</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <span>üí∞</span>
                                    <span>$60K-$180K</span>
                                </div>
                            </div>
                            <div class="bg-gradient-to-r from-orange-500 to-red-600 text-white py-4 px-8 rounded-full font-semibold group-hover:shadow-lg transition-all duration-300 transform group-hover:scale-105">
                                Start Your Journey ‚Üí
                            </div>
                        </div>
                    </div>
                </div>

                <div class="group cursor-pointer card-hover" onclick="selectPath('mobile-dev')">
                    <div class="bg-gradient-to-br from-purple-50 via-purple-25 to-pink-50 rounded-3xl p-8 shadow-lg hover:shadow-2xl border-2 border-transparent hover:border-purple-200 relative overflow-hidden">
                        <div class="absolute top-4 right-4 bg-purple-500 text-white px-3 py-1 rounded-full text-xs font-semibold">
                            IN-DEMAND üì±
                        </div>
                        <div class="text-center">
                            <div class="text-7xl mb-6">üì±</div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-3">Mobile Development</h3>
                            <p class="text-gray-600 mb-4 text-sm">Create native and cross-platform mobile apps</p>
                            <div class="flex justify-center items-center gap-6 text-sm text-gray-600 mb-6">
                                <div class="flex items-center gap-1">
                                    <span>üë•</span>
                                    <span>1.8M+ devs</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <span>üìà</span>
                                    <span>+20% growth</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <span>üí∞</span>
                                    <span>$50K-$130K</span>
                                </div>
                            </div>
                            <div class="bg-gradient-to-r from-purple-500 to-pink-600 text-white py-4 px-8 rounded-full font-semibold group-hover:shadow-lg transition-all duration-300 transform group-hover:scale-105">
                                Start Your Journey ‚Üí
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Stats Section -->
            <div class="mt-16 bg-white/70 backdrop-blur-sm rounded-2xl p-8 shadow-lg">
                <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">Why Choose Our Career Path Simulator?</h2>
                    <p class="text-gray-600">Backed by industry data and real career outcomes</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div class="text-center">
                        <div class="text-3xl font-bold text-blue-600 mb-2">94%</div>
                        <div class="text-sm text-gray-600">Job Placement Rate</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-green-600 mb-2">$78K</div>
                        <div class="text-sm text-gray-600">Average Starting Salary</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-purple-600 mb-2">6-24</div>
                        <div class="text-sm text-gray-600">Months to Job Ready</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-orange-600 mb-2">24/7</div>
                        <div class="text-sm text-gray-600">Learning Support</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Simulator Screen -->
    <div id="simulator" class="hidden min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6">
        <div class="max-w-7xl mx-auto">
            <!-- Header -->
            <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-4">
                <div>
                    <h1 id="pathTitle" class="text-4xl font-bold text-gray-800 mb-2">
                        üåê Web Development Journey
                    </h1>
                    <p class="text-gray-600">Track your progress and unlock your potential</p>
                    <div class="flex items-center gap-4 mt-2">
                        <div class="flex items-center gap-2">
                            <span class="text-green-500">‚óè</span>
                            <span class="text-sm text-gray-600">Active Learning Path</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span>üî•</span>
                            <span id="streakCounter" class="text-sm font-medium">0 day streak</span>
                        </div>
                    </div>
                </div>
                <div class="flex gap-3">
                    <button
                        onclick="resetProgress()"
                        class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2"
                    >
                        üîÑ Reset Progress
                    </button>
                    <button
                        onclick="goBack()"
                        class="bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded-lg transition-colors flex items-center gap-2"
                    >
                        ‚Üê Change Path
                    </button>
                </div>
            </div>

            <!-- Quick Actions Bar -->
            <div class="bg-white rounded-xl shadow-sm p-4 mb-8">
                <div class="flex flex-wrap items-center justify-between gap-4">
                    <div class="flex items-center gap-6">
                        <button onclick="quickSetProgress(25)" class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm transition-colors">
                            Quick: 25%
                        </button>
                        <button onclick="quickSetProgress(50)" class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm transition-colors">
                            Quick: 50%
                        </button>
                        <button onclick="quickSetProgress(75)" class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm transition-colors">
                            Quick: 75%
                        </button>
                        <button onclick="quickSetProgress(100)" class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm transition-colors">
                            Complete Path
                        </button>
                    </div>
                    <div class="flex items-center gap-4">
                        <div class="flex items-center gap-2">
                            <span class="text-sm text-gray-600">Study Mode:</span>
                            <select id="studyMode" onchange="updateStudyMode()" class="text-sm border border-gray-300 rounded px-2 py-1">
                                <option value="casual">Casual (5h/week)</option>
                                <option value="standard" selected>Standard (10h/week)</option>
                                <option value="intensive">Intensive (20h/week)</option>
                                <option value="bootcamp">Bootcamp (40h/week)</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Progress Section -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
                <!-- Progress Tracker -->
                <div class="lg:col-span-2 bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">Your Learning Path</h2>
                        <div class="text-right">
                            <div id="progressPercent" class="text-3xl font-bold text-indigo-600">0%</div>
                            <div class="text-sm text-gray-500">Complete</div>
                            <div id="hoursEstimate" class="text-xs text-gray-400 mt-1">Est. 0 hours</div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <div class="w-full bg-gray-200 rounded-full h-4 mb-4 relative overflow-hidden">
                            <div 
                                id="progressBar"
                                class="bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full progress-bar relative"
                                style="width: 0%"
                            >
                                <div class="absolute inset-0 bg-white/20 rounded-full animate-pulse-custom"></div>
                            </div>
                        </div>
                        
                        <div id="skillsGrid" class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-6">
                            <!-- Skills will be populated by JavaScript -->
                        </div>

                        <!-- Current Focus -->
                        <div id="currentFocus" class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 mb-4">
                            <h4 class="font-semibold text-gray-800 mb-2 flex items-center gap-2">
                                <span>üéØ</span> Current Focus
                            </h4>
                            <p id="focusText" class="text-gray-600 text-sm">Start your journey by learning the fundamentals!</p>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <div class="flex items-center gap-4">
                            <label class="text-sm font-medium text-gray-700 whitespace-nowrap">Progress:</label>
                            <input
                                type="range"
                                min="0"
                                max="100"
                                value="0"
                                id="progressSlider"
                                onchange="updateProgress(this.value)"
                                oninput="previewProgress(this.value)"
                                class="flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                            />
                            <input
                                type="number"
                                min="0"
                                max="100"
                                value="0"
                                id="progressNumber"
                                onchange="updateProgress(this.value)"
                                class="w-20 px-3 py-2 border border-gray-300 rounded-lg text-center"
                            />
                            <span class="text-sm text-gray-500">%</span>
                        </div>
                        
                        <!-- Study Session Simulator -->
                        <div class="flex items-center gap-4 pt-2">
                            <button onclick="simulateStudySession()" id="studyBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2">
                                <span>üìö</span> Complete Study Session (+5%)
                            </button>
                            <div id="sessionCooldown" class="hidden text-sm text-gray-500">
                                Next session in: <span id="cooldownTimer">0</span>s
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Future Projection -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                        <span>üîÆ</span>
                        Your Future in <span id="timeFrameText">12</span> months
                    </h3>
                    
                    <div class="space-y-4">
                        <div class="flex items-center gap-3 p-3 bg-green-50 rounded-lg">
                            <span class="text-green-600 text-2xl">üí∞</span>
                            <div>
                                <div id="projectedSalary" class="text-2xl font-bold text-green-600">$65,000</div>
                                <div class="text-sm text-gray-500">Expected Salary</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-3 p-3 bg-blue-50 rounded-lg">
                            <span class="text-blue-600 text-2xl">üèÜ</span>
                            <div>
                                <div id="projectedRole" class="text-lg font-semibold text-gray-800">Frontend Developer</div>
                                <div class="text-sm text-gray-500">Job Title</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-3 p-3 bg-purple-50 rounded-lg">
                            <span class="text-purple-600 text-2xl">‚≠ê</span>
                            <div>
                                <div id="projectedProjects" class="text-sm font-medium text-gray-800">E-commerce Sites, SPAs</div>
                                <div class="text-xs text-gray-500">Project Types</div>
                            </div>
                        </div>

                        <!-- Market Demand -->
                        <div class="flex items-center gap-3 p-3 bg-yellow-50 rounded-lg">
                            <span class="text-yellow-600 text-2xl">üìä</span>
                            <div>
                                <div id="marketDemand" class="text-sm font-medium text-gray-800">High Demand</div>
                                <div class="text-xs text-gray-500">Job Market</div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Time Frame Projection
                        </label>
                        <select
                            id="timeFrameSelect"
                            onchange="updateTimeFrame(this.value)"
                            class="w-full p-3 border border-gray-300 rounded-lg"
                        >
                            <option value="6">6 months</option>
                            <option value="12" selected>1 year</option>
                            <option value="18">1.5 years</option>
                            <option value="24">2 years</option>
                            <option value="36">3 years</option>
                        </select>
                    </div>

                    <!-- Learning Efficiency -->
                    <div class="mt-4 p-3 bg-gray-50 rounded-lg">
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">Learning Efficiency</span>
                            <span id="efficiencyScore" class="text-sm font-semibold text-indigo-600">85%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                            <div id="efficiencyBar" class="bg-indigo-500 h-2 rounded-full transition-all duration-300" style="width: 85%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Rewards & Time Capsule -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <!-- Rewards -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                        <span class="text-yellow-500">üèÜ</span>
                        Milestone Rewards
                        <span id="rewardCount" class="bg-yellow-100 text-yellow-800 text-sm px-2 py-1 rounded-full">0/4</span>
                    </h3>
                    
                    <div id="rewardsContainer" class="space-y-4">
                        <!-- Rewards will be populated by JavaScript -->
                    </div>

                    <!-- Achievement Showcase -->
                    <div class="mt-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg">
                        <h4 class="font-semibold text-gray-800 mb-2 flex items-center gap-2">
                            <span>üèÖ</span> Recent Achievement
                        </h4>
                        <p id="latestAchievement" class="text-sm text-gray-600">Start your journey to earn your first achievement!</p>
                    </div>
                </div>

                <!-- Time Capsule -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                        <span class="text-purple-500">üéÅ</span>
                        Time Capsule
                        <span id="capsuleCount" class="bg-purple-100 text-purple-800 text-sm px-2 py-1 rounded-full">0</span>
                    </h3>
                    
                    <div id="timeCapsuleForm">
                        <button
                            onclick="showTimeCapsuleForm()"
                            class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-4 px-6 rounded-lg font-semibold hover:shadow-lg transition-all duration-300 mb-4 flex items-center justify-center gap-2"
                        >
                            <span>üìù</span> Leave a Message to Future You
                        </button>
                    </div>

                    <div id="timeCapsuleInput" class="hidden mb-4">
                        <div class="mb-3">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Your Message:</label>
                            <textarea
                                id="capsuleMessage"
                                placeholder="Write an encouraging message to your future self... What are your current goals? What motivates you?"
                                class="w-full h-28 p-3 border border-gray-300 rounded-lg resize-none text-sm"
                                maxlength="200"
                            ></textarea>
                            <div class="text-xs text-gray-500 mt-1">
                                <span id="charCount">0</span>/200 characters
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Unlock at progress:</label>
                            <select id="unlockLevel" class="w-full p-2 border border-gray-300 rounded-lg">
                                <option value="25">25% - First Quarter</option>
                                <option value="50">50% - Halfway Point</option>
                                <option value="75">75% - Almost There</option>
                                <option value="100">100% - Journey Complete</option>
                            </select>
                        </div>
                        <div class="flex gap-2">
                            <button
                                onclick="saveTimeCapsule()"
                                class="flex-1 bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors flex items-center justify-center gap-2"
                            >
                                <span>üíæ</span> Save Capsule
                            </button>
                            <button
                                onclick="hideTimeCapsuleForm()"
                                class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors"
                            >
                                Cancel
                            </button>
                        </div>
                    </div>

                    <div id="capsulesContainer" class="space-y-3 max-h-60 overflow-y-auto">
                        <!-- Time capsules will be populated by JavaScript -->
                    </div>

                    <div id="emptyCapsules" class="text-center py-8 text-gray-500">
                        <div class="text-4xl mb-2">üéÅ</div>
                        <p class="text-sm">No time capsules yet. Create one to motivate your future self!</p>
                    </div>
                </div>
            </div>

            
        </div>
    </div>

    <script>
        // Global state
let currentPath = null;
let currentProgress = 0;
let unlockedRewards = [];
let timeFrame = 12;
let savedCapsules = [];
let studyStreak = 0;
let lastStudySession = null;
let studyMode = 'standard';
let sessionCooldown = null;
let completedSections = JSON.parse(localStorage.getItem('completedSections')) || {};

// Career paths data with detailed learning content
const careerPaths = {
    "web-dev": {
        title: "Web Development",
        icon: "üåê",
        color: "from-blue-500 to-purple-600",
        sections: {
            "HTML/CSS Fundamentals": {
                subsections: [
                    { name: "Core HTML", completed: false, weight: 25 },
                    { name: "CSS Mastery", completed: false, weight: 30 },
                    { name: "Advanced Techniques", completed: false, weight: 25 },
                    { name: "Responsive Design", completed: false, weight: 20 }
                ],
                totalWeight: 100,
                description: "Master the building blocks of web development"
            },
            "JavaScript Essentials": {
                subsections: [
                    { name: "JavaScript Core", completed: false, weight: 30 },
                    { name: "DOM Manipulation", completed: false, weight: 30 },
                    { name: "ES6+ Features", completed: false, weight: 25 },
                    { name: "Async Programming", completed: false, weight: 15 }
                ],
                totalWeight: 100,
                description: "The programming language of the web"
            },
            "React/Vue Framework": {
                subsections: [
                    { name: "React Core", completed: false, weight: 40 },
                    { name: "Vue Core", completed: false, weight: 30 },
                    { name: "State Management", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Modern frontend frameworks"
            },
            "Backend Development": {
                subsections: [
                    { name: "Node.js Basics", completed: false, weight: 30 },
                    { name: "Authentication", completed: false, weight: 25 },
                    { name: "REST APIs", completed: false, weight: 25 },
                    { name: "Advanced Concepts", completed: false, weight: 20 }
                ],
                totalWeight: 100,
                description: "Server-side programming fundamentals"
            },
            "Database Management": {
                subsections: [
                    { name: "SQL Databases", completed: false, weight: 40 },
                    { name: "NoSQL Databases", completed: false, weight: 40 },
                    { name: "ORMs & Tools", completed: false, weight: 20 }
                ],
                totalWeight: 100,
                description: "Data storage and retrieval systems"
            },
            "DevOps & Deployment": {
                subsections: [
                    { name: "CI/CD Pipelines", completed: false, weight: 35 },
                    { name: "Containerization", completed: false, weight: 35 },
                    { name: "Cloud Platforms", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Application deployment and infrastructure"
            },
            "Advanced Frameworks": {
                subsections: [
                    { name: "Next.js", completed: false, weight: 40 },
                    { name: "Nuxt.js", completed: false, weight: 30 },
                    { name: "Advanced Features", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Next-generation web frameworks"
            },
            "System Architecture": {
                subsections: [
                    { name: "Architecture Patterns", completed: false, weight: 40 },
                    { name: "Scalability", completed: false, weight: 30 },
                    { name: "Security", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Designing scalable applications"
            }
        },
        projections: {
            6: { salary: "$45,000", role: "Junior Developer", projects: "Landing Pages, Simple Apps", demand: "High Demand" },
            12: { salary: "$65,000", role: "Frontend Developer", projects: "E-commerce Sites, SPAs", demand: "Very High Demand" },
            18: { salary: "$85,000", role: "Full-Stack Developer", projects: "Complex Web Apps, APIs", demand: "Extremely High Demand" },
            24: { salary: "$110,000", role: "Senior Developer", projects: "Enterprise Solutions, Team Lead", demand: "Critical Shortage" },
            36: { salary: "$140,000", role: "Tech Lead/Architect", projects: "Platform Architecture, Strategy", demand: "Executive Level" }
        },
        resources: [
            { title: "HTML/CSS Mastery Course", type: "Course", difficulty: "Beginner", duration: "40 hours" },
            { title: "JavaScript: The Complete Guide", type: "Book", difficulty: "Intermediate", duration: "60 hours" },
            { title: "React Documentation", type: "Documentation", difficulty: "Intermediate", duration: "‚àû" },
            { title: "Full-Stack Web Development Bootcamp", type: "Bootcamp", difficulty: "All Levels", duration: "24 weeks" }
        ]
    },
    "ai-ml": {
        title: "AI & Machine Learning",
        icon: "ü§ñ",
        color: "from-green-500 to-teal-600",
        sections: {
            "Python Fundamentals": {
                subsections: [
                    { name: "Python Basics", completed: false, weight: 30 },
                    { name: "Scientific Computing", completed: false, weight: 40 },
                    { name: "Advanced Features", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Master Python programming for data science and machine learning"
            },
            "Math & Statistics": {
                subsections: [
                    { name: "Linear Algebra", completed: false, weight: 35 },
                    { name: "Statistics & Probability", completed: false, weight: 35 },
                    { name: "Calculus & Optimization", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Essential mathematical foundations for machine learning"
            },
            "Machine Learning Basics": {
                subsections: [
                    { name: "Supervised Learning", completed: false, weight: 40 },
                    { name: "Unsupervised Learning", completed: false, weight: 30 },
                    { name: "Model Evaluation", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Core machine learning algorithms and concepts"
            },
            "Deep Learning": {
                subsections: [
                    { name: "Neural Networks", completed: false, weight: 30 },
                    { name: "Architectures", completed: false, weight: 40 },
                    { name: "Frameworks", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Neural networks and deep learning architectures"
            },
            "Computer Vision": {
                subsections: [
                    { name: "Image Processing", completed: false, weight: 35 },
                    { name: "CNN Applications", completed: false, weight: 35 },
                    { name: "Advanced Topics", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Image processing and analysis techniques"
            },
            "NLP & LLMs": {
                subsections: [
                    { name: "NLP Fundamentals", completed: false, weight: 35 },
                    { name: "Transformer Models", completed: false, weight: 35 },
                    { name: "LLM Applications", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Natural Language Processing and Large Language Models"
            },
            "MLOps & Deployment": {
                subsections: [
                    { name: "Model Deployment", completed: false, weight: 40 },
                    { name: "CI/CD for ML", completed: false, weight: 30 },
                    { name: "Data Management", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Machine Learning Operations and model deployment"
            },
            "AI Research & Innovation": {
                subsections: [
                    { name: "Research Methods", completed: false, weight: 35 },
                    { name: "Emerging Areas", completed: false, weight: 35 },
                    { name: "AI Ethics", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Cutting-edge AI research and applications"
            }
        },
        projections: {
            6: { salary: "$55,000", role: "Data Analyst", projects: "Basic ML Models, Data Analysis", demand: "High Demand" },
            12: { salary: "$85,000", role: "Machine Learning Engineer", projects: "Predictive Models, NLP", demand: "Very High Demand" },
            18: { salary: "$110,000", role: "AI Engineer", projects: "Deep Learning Systems", demand: "Extremely High Demand" },
            24: { salary: "$140,000", role: "Senior AI Engineer", projects: "LLMs, Computer Vision", demand: "Critical Shortage" },
            36: { salary: "$180,000", role: "AI Research Scientist", projects: "Cutting-edge Research", demand: "Executive Level" }
        },
        resources: [
            { title: "Python for Data Science", type: "Course", difficulty: "Beginner", duration: "50 hours" },
            { title: "Hands-On Machine Learning", type: "Book", difficulty: "Intermediate", duration: "80 hours" },
            { title: "Deep Learning Specialization", type: "Course", difficulty: "Advanced", duration: "100 hours" },
            { title: "AI Research Papers", type: "Papers", difficulty: "Expert", duration: "‚àû" }
        ]
    },
    "blockchain": {
        title: "Blockchain Development",
        icon: "‚õìÔ∏è",
        color: "from-orange-500 to-red-600",
        sections: {
            "Blockchain Fundamentals": {
                subsections: [
                    { name: "Blockchain Basics", completed: false, weight: 40 },
                    { name: "Cryptocurrencies", completed: false, weight: 30 },
                    { name: "Blockchain Ecosystem", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Core concepts of blockchain technology"
            },
            "Cryptography Basics": {
                subsections: [
                    { name: "Hash Functions", completed: false, weight: 40 },
                    { name: "Public Key Cryptography", completed: false, weight: 40 },
                    { name: "Security Protocols", completed: false, weight: 20 }
                ],
                totalWeight: 100,
                description: "Cryptographic foundations for blockchain"
            },
            "Smart Contracts": {
                subsections: [
                    { name: "Solidity Basics", completed: false, weight: 40 },
                    { name: "Advanced Features", completed: false, weight: 30 },
                    { name: "Security Practices", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Programmable contracts on blockchain"
            },
            "DApp Development": {
                subsections: [
                    { name: "Frontend Integration", completed: false, weight: 40 },
                    { name: "Backend Services", completed: false, weight: 30 },
                    { name: "Deployment", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Decentralized application development"
            },
            "DeFi Protocols": {
                subsections: [
                    { name: "Core Protocols", completed: false, weight: 40 },
                    { name: "Financial Primitives", completed: false, weight: 30 },
                    { name: "Risk Management", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Decentralized Finance applications"
            },
            "NFT Systems": {
                subsections: [
                    { name: "NFT Standards", completed: false, weight: 40 },
                    { name: "NFT Applications", completed: false, weight: 30 },
                    { name: "Marketplaces", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Non-Fungible Token ecosystems"
            },
            "Blockchain Security": {
                subsections: [
                    { name: "Smart Contract Security", completed: false, weight: 40 },
                    { name: "Auditing", completed: false, weight: 30 },
                    { name: "Operational Security", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Security best practices for blockchain"
            },
            "Scalability Solutions": {
                subsections: [
                    { name: "Layer 2 Solutions", completed: false, weight: 40 },
                    { name: "Sharding", completed: false, weight: 30 },
                    { name: "Alternative Approaches", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Scaling blockchain networks"
            }
        },
        projections: {
            6: { salary: "$60,000", role: "Blockchain Developer", projects: "Basic Smart Contracts", demand: "High Demand" },
            12: { salary: "$90,000", role: "Smart Contract Engineer", projects: "DeFi Protocols", demand: "Very High Demand" },
            18: { salary: "$120,000", role: "Senior Blockchain Dev", projects: "Complex DApps", demand: "Extremely High Demand" },
            24: { salary: "$150,000", role: "Blockchain Architect", projects: "Enterprise Solutions", demand: "Critical Shortage" },
            36: { salary: "$200,000", role: "CTO/Lead Researcher", projects: "Protocol Design", demand: "Executive Level" }
        },
        resources: [
            { title: "Blockchain Basics Course", type: "Course", difficulty: "Beginner", duration: "30 hours" },
            { title: "Mastering Ethereum", type: "Book", difficulty: "Intermediate", duration: "50 hours" },
            { title: "Solidity Documentation", type: "Documentation", difficulty: "Intermediate", duration: "‚àû" },
            { title: "Advanced DeFi Development", type: "Course", difficulty: "Advanced", duration: "80 hours" }
        ]
    },
    "mobile-dev": {
        title: "Mobile Development",
        icon: "üì±",
        color: "from-purple-500 to-pink-600",
        sections: {
            "Mobile Fundamentals": {
                subsections: [
                    { name: "Platform Basics", completed: false, weight: 40 },
                    { name: "Design Principles", completed: false, weight: 30 },
                    { name: "Development Tools", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Core concepts of mobile development"
            },
            "Native iOS Development": {
                subsections: [
                    { name: "Swift Fundamentals", completed: false, weight: 40 },
                    { name: "UIKit & SwiftUI", completed: false, weight: 30 },
                    { name: "Core Features", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Building apps for Apple's iOS platform"
            },
            "Native Android Development": {
                subsections: [
                    { name: "Kotlin Fundamentals", completed: false, weight: 40 },
                    { name: "Android Components", completed: false, weight: 30 },
                    { name: "Core Features", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Building apps for Android platform"
            },
            "Cross-Platform Frameworks": {
                subsections: [
                    { name: "React Native", completed: false, weight: 40 },
                    { name: "Flutter", completed: false, weight: 30 },
                    { name: "Other Frameworks", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Frameworks for multi-platform development"
            },
            "Mobile UI/UX": {
                subsections: [
                    { name: "Design Systems", completed: false, weight: 40 },
                    { name: "Animation", completed: false, weight: 30 },
                    { name: "Adaptive UI", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Designing exceptional mobile experiences"
            },
            "Backend Integration": {
                subsections: [
                    { name: "REST APIs", completed: false, weight: 40 },
                    { name: "GraphQL", completed: false, weight: 30 },
                    { name: "Cloud Services", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Connecting mobile apps to backend services"
            },
            "Performance Optimization": {
                subsections: [
                    { name: "Rendering Performance", completed: false, weight: 40 },
                    { name: "Battery Efficiency", completed: false, weight: 30 },
                    { name: "App Size", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Optimizing mobile app performance"
            },
            "Advanced Mobile Features": {
                subsections: [
                    { name: "Platform Features", completed: false, weight: 40 },
                    { name: "Security", completed: false, weight: 30 },
                    { name: "Emerging Technologies", completed: false, weight: 30 }
                ],
                totalWeight: 100,
                description: "Cutting-edge mobile capabilities"
            }
        },
        projections: {
            6: { salary: "$50,000", role: "Junior Mobile Dev", projects: "Simple Apps, UI Screens", demand: "High Demand" },
            12: { salary: "$75,000", role: "Mobile Developer", projects: "Full-featured Apps", demand: "Very High Demand" },
            18: { salary: "$95,000", role: "Senior Mobile Dev", projects: "Complex Apps, SDKs", demand: "Extremely High Demand" },
            24: { salary: "$120,000", role: "Mobile Architect", projects: "Cross-platform Solutions", demand: "Critical Shortage" },
            36: { salary: "$150,000", role: "Mobile Tech Lead", projects: "Platform Strategy", demand: "Executive Level" }
        },
        resources: [
            { title: "Mobile Development Fundamentals", type: "Course", difficulty: "Beginner", duration: "40 hours" },
            { title: "Swift/Kotlin Deep Dive", type: "Book", difficulty: "Intermediate", duration: "60 hours" },
            { title: "React Native Documentation", type: "Documentation", difficulty: "Intermediate", duration: "‚àû" },
            { title: "Advanced Mobile Architecture", type: "Course", difficulty: "Advanced", duration: "80 hours" }
        ]
    }
};

// Rewards data
const rewards = [
    { id: 1, title: "First Steps", description: "Complete 25% of your learning path", progress: 25, icon: "üë£" },
    { id: 2, title: "Halfway There", description: "Complete 50% of your learning path", progress: 50, icon: "üéØ" },
    { id: 3, title: "Almost Pro", description: "Complete 75% of your learning path", progress: 75, icon: "üöÄ" },
    { id: 4, title: "Path Master", description: "Complete 100% of your learning path", progress: 100, icon: "üèÜ" }
];

// DOM elements
const pathSelectionEl = document.getElementById('pathSelection');
const simulatorEl = document.getElementById('simulator');
const pathTitleEl = document.getElementById('pathTitle');
const progressBarEl = document.getElementById('progressBar');
const progressPercentEl = document.getElementById('progressPercent');
const progressSliderEl = document.getElementById('progressSlider');
const progressNumberEl = document.getElementById('progressNumber');
const skillsGridEl = document.getElementById('skillsGrid');
const focusTextEl = document.getElementById('focusText');
const projectedSalaryEl = document.getElementById('projectedSalary');
const projectedRoleEl = document.getElementById('projectedRole');
const projectedProjectsEl = document.getElementById('projectedProjects');
const marketDemandEl = document.getElementById('marketDemand');
const timeFrameTextEl = document.getElementById('timeFrameText');
const timeFrameSelectEl = document.getElementById('timeFrameSelect');
const rewardsContainerEl = document.getElementById('rewardsContainer');
const rewardCountEl = document.getElementById('rewardCount');
const latestAchievementEl = document.getElementById('latestAchievement');
const capsulesContainerEl = document.getElementById('capsulesContainer');
const emptyCapsulesEl = document.getElementById('emptyCapsules');
const capsuleCountEl = document.getElementById('capsuleCount');
const resourcesContainerEl = document.getElementById('resourcesContainer');
const jobMatchesEl = document.getElementById('jobMatches');
const hoursEstimateEl = document.getElementById('hoursEstimate');
const studyModeEl = document.getElementById('studyMode');
const studyBtnEl = document.getElementById('studyBtn');
const sessionCooldownEl = document.getElementById('sessionCooldown');
const cooldownTimerEl = document.getElementById('cooldownTimer');
const streakCounterEl = document.getElementById('streakCounter');
const notificationContainerEl = document.getElementById('notificationContainer');

// Initialize the app
function init() {
    loadSavedData();
    document.getElementById('capsuleMessage').addEventListener('input', updateCharCount);
    updateUI();
}

// Load saved data from localStorage
function loadSavedData() {
    const savedPath = localStorage.getItem('currentPath');
    const savedProgress = localStorage.getItem('currentProgress');
    const savedRewards = localStorage.getItem('unlockedRewards');
    const savedCapsulesData = localStorage.getItem('savedCapsules');
    const savedStreak = localStorage.getItem('studyStreak');
    const savedLastSession = localStorage.getItem('lastStudySession');
    const savedStudyMode = localStorage.getItem('studyMode');
    const savedCompletedSections = localStorage.getItem('completedSections');
    
    if (savedPath) currentPath = savedPath;
    if (savedProgress) currentProgress = parseInt(savedProgress);
    if (savedRewards) unlockedRewards = JSON.parse(savedRewards);
    if (savedCapsulesData) savedCapsules = JSON.parse(savedCapsulesData);
    if (savedStreak) studyStreak = parseInt(savedStreak);
    if (savedLastSession) lastStudySession = new Date(savedLastSession);
    if (savedStudyMode) studyMode = savedStudyMode;
    if (savedCompletedSections) completedSections = JSON.parse(savedCompletedSections);
    
    // Initialize completed sections for the current path
    if (currentPath && careerPaths[currentPath]) {
        if (!completedSections[currentPath]) {
            completedSections[currentPath] = {};
        }
        
        // Initialize section completion status
        for (const section in careerPaths[currentPath].sections) {
            if (!completedSections[currentPath][section]) {
                completedSections[currentPath][section] = {
                    subsections: careerPaths[currentPath].sections[section].subsections.map(sub => ({
                        name: sub.name,
                        completed: false
                    })),
                    completed: false
                };
            }
        }
    }
    
    if (studyModeEl) studyModeEl.value = studyMode;
}

// Save data to localStorage
function saveData() {
    localStorage.setItem('currentPath', currentPath);
    localStorage.setItem('currentProgress', currentProgress);
    localStorage.setItem('unlockedRewards', JSON.stringify(unlockedRewards));
    localStorage.setItem('savedCapsules', JSON.stringify(savedCapsules));
    localStorage.setItem('studyStreak', studyStreak);
    localStorage.setItem('lastStudySession', lastStudySession);
    localStorage.setItem('studyMode', studyMode);
    localStorage.setItem('completedSections', JSON.stringify(completedSections));
}

// Select a career path
function selectPath(path) {
    currentPath = path;
    
    // Initialize completed sections for this path if they don't exist
    if (!completedSections[path]) {
        completedSections[path] = {};
        
        for (const section in careerPaths[path].sections) {
            completedSections[path][section] = {
                subsections: careerPaths[path].sections[section].subsections.map(sub => ({
                    name: sub.name,
                    completed: false
                })),
                completed: false
            };
        }
    }
    
    saveData();
    
    // Update UI
    pathSelectionEl.classList.add('hidden');
    simulatorEl.classList.remove('hidden');
    
    // Set path title
    pathTitleEl.innerHTML = `${careerPaths[path].icon} ${careerPaths[path].title} Journey`;
    
    // Update gradient color
    progressBarEl.className = `bg-gradient-to-r ${careerPaths[path].color} h-4 rounded-full progress-bar relative`;
    
    // Initialize progress if this is a new path
    if (currentProgress === 0) {
        showNotification(`üéâ Welcome to your ${careerPaths[path].title} journey!`, 'success');
    }
    
    updateUI();
}

// Go back to path selection
function goBack() {
    currentPath = null;
    saveData();
    
    simulatorEl.classList.add('hidden');
    pathSelectionEl.classList.remove('hidden');
}

// Reset progress
function resetProgress() {
    if (confirm("Are you sure you want to reset your progress? This cannot be undone.")) {
        currentProgress = 0;
        unlockedRewards = [];
        studyStreak = 0;
        lastStudySession = null;
        
        // Reset completed sections for current path
        if (currentPath) {
            for (const section in completedSections[currentPath]) {
                completedSections[currentPath][section].completed = false;
                completedSections[currentPath][section].subsections.forEach(sub => {
                    sub.completed = false;
                });
            }
        }
        
        saveData();
        updateUI();
        showNotification("üîÑ Progress reset successfully!", 'info');
    }
}

// Update progress
function updateProgress(value) {
    const newProgress = parseInt(value);
    if (isNaN(newProgress)) return;
    
    currentProgress = Math.min(100, Math.max(0, newProgress));
    
    // Check for unlocked rewards
    checkRewards();
    
    saveData();
    updateUI();
}

// Preview progress change
function previewProgress(value) {
    const newProgress = parseInt(value);
    if (isNaN(newProgress)) return;
    
    progressPercentEl.textContent = `${newProgress}%`;
    progressBarEl.style.width = `${newProgress}%`;
    progressNumberEl.value = newProgress;
    
    // Update projected salary temporarily
    updateProjections(newProgress);
}

// Quick set progress
function quickSetProgress(percent) {
    updateProgress(percent);
    showNotification(`‚ö° Progress set to ${percent}%`, 'success');
}

// Update the UI based on current state
function updateUI() {
    if (!currentPath) return;
    
    // Update progress elements
    progressPercentEl.textContent = `${Math.round(currentProgress)}%`;
    progressBarEl.style.width = `${currentProgress}%`;
    progressSliderEl.value = currentProgress;
    progressNumberEl.value = currentProgress;
    
    // Update skills grid
    updateSkillsGrid();
    
    // Update current focus
    updateCurrentFocus();
    
    // Update projections
    updateProjections(currentProgress);
    
    // Update rewards
    updateRewards();
    
    // Update time capsules
    updateTimeCapsules();
    
    // Update resources
    updateResources();
    
    // Update job matches
    updateJobMatches();
    
    // Update hours estimate
    updateHoursEstimate();
    
    // Update streak counter
    updateStreakCounter();
    
    // Update study mode button
    updateStudyModeButton();
    
    // Check for unlocked capsules
    checkUnlockedCapsules();
}

// Update skills grid with checkboxes for subsections
function updateSkillsGrid() {
    skillsGridEl.innerHTML = '';
    
    if (!currentPath || !careerPaths[currentPath]) return;
    
    const path = careerPaths[currentPath];
    const sectionNames = Object.keys(path.sections);
    const sectionWeight = 100 / sectionNames.length;
    
    sectionNames.forEach((sectionName, sectionIndex) => {
        const section = path.sections[sectionName];
        const sectionCompletion = completedSections[currentPath]?.[sectionName] || {
            subsections: section.subsections.map(sub => ({ name: sub.name, completed: false })),
            completed: false
        };
        
        // Calculate section progress
        const completedSubsections = sectionCompletion.subsections.filter(sub => sub.completed).length;
        const sectionProgress = (completedSubsections / section.subsections.length) * 100;
        const isSectionCompleted = sectionCompletion.completed;
        
        const skillEl = document.createElement('div');
        skillEl.className = `skill-item p-4 rounded-lg border ${isSectionCompleted ? 'bg-green-50 border-green-200' : 'bg-gray-50 border-gray-200'}`;
        
        skillEl.innerHTML = `
            <div class="flex justify-between items-center mb-2">
                <h4 class="font-medium text-sm ${isSectionCompleted ? 'text-green-800' : 'text-gray-800'}">${sectionName}</h4>
                <span class="text-xs ${isSectionCompleted ? 'text-green-600' : 'text-gray-500'}">${Math.round(sectionProgress)}%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-1.5 mb-3">
                <div class="h-1.5 rounded-full ${isSectionCompleted ? 'bg-green-500' : 'bg-blue-500'}" style="width: ${sectionProgress}%"></div>
            </div>
            <p class="text-xs text-gray-600 mb-2">${section.description}</p>
            <div class="space-y-2">
                ${section.subsections.map((subsection, subIndex) => `
                    <div class="flex items-center">
                        <input 
                            type="checkbox" 
                            id="${sectionName}-${subsection.name}" 
                            ${sectionCompletion.subsections[subIndex]?.completed ? 'checked' : ''}
                            onchange="toggleSubsectionCompletion('${sectionName}', ${subIndex}, this.checked)"
                            class="mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                        >
                        <label for="${sectionName}-${subsection.name}" class="text-xs text-gray-700">${subsection.name}</label>
                    </div>
                `).join('')}
            </div>
        `;
        
        skillsGridEl.appendChild(skillEl);
    });
    
    // Calculate and update overall progress
    calculateOverallProgress();
}

// Toggle subsection completion status
function toggleSubsectionCompletion(sectionName, subIndex, isCompleted) {
    if (!currentPath || !completedSections[currentPath] || !completedSections[currentPath][sectionName]) return;
    
    // Update subsection completion status
    completedSections[currentPath][sectionName].subsections[subIndex].completed = isCompleted;
    
    // Check if all subsections are completed
    const allSubsectionsCompleted = completedSections[currentPath][sectionName].subsections.every(sub => sub.completed);
    completedSections[currentPath][sectionName].completed = allSubsectionsCompleted;
    
    if (allSubsectionsCompleted) {
        showNotification(`üéâ Completed section: ${sectionName}!`, 'success');
    }
    
    saveData();
    updateUI();
}

// Calculate overall progress based on completed sections
function calculateOverallProgress() {
    if (!currentPath || !careerPaths[currentPath]) return;
    
    const path = careerPaths[currentPath];
    const sectionNames = Object.keys(path.sections);
    const sectionWeight = 100 / sectionNames.length;
    let newProgress = 0;
    
    sectionNames.forEach(sectionName => {
        const section = completedSections[currentPath]?.[sectionName];
        if (section?.completed) {
            newProgress += sectionWeight;
        } else if (section) {
            // Calculate partial progress for the section
            const completedSubsections = section.subsections.filter(sub => sub.completed).length;
            const sectionProgress = (completedSubsections / path.sections[sectionName].subsections.length) * sectionWeight;
            newProgress += sectionProgress;
        }
    });
    
    // Update progress if it has changed
    if (Math.abs(newProgress - currentProgress) > 1) {
        currentProgress = Math.min(100, Math.max(0, Math.round(newProgress)));
        checkRewards();
        saveData();
    }
    
    // Update progress display
    progressPercentEl.textContent = `${Math.round(currentProgress)}%`;
    progressBarEl.style.width = `${currentProgress}%`;
    progressSliderEl.value = currentProgress;
    progressNumberEl.value = currentProgress;
}

// Update current focus based on progress
function updateCurrentFocus() {
    if (!currentPath || !careerPaths[currentPath]) return;
    
    const path = careerPaths[currentPath];
    const sectionNames = Object.keys(path.sections);
    const sectionWeight = 100 / sectionNames.length;
    
    // Find current section
    let currentSectionIndex = Math.floor(currentProgress / sectionWeight);
    currentSectionIndex = Math.min(currentSectionIndex, sectionNames.length - 1);
    
    const currentSection = sectionNames[currentSectionIndex];
    const nextMilestone = Math.ceil(currentProgress / 25) * 25;
    
    if (currentProgress >= 100) {
        focusTextEl.textContent = "Congratulations! You've completed your learning path!";
    } else {
        focusTextEl.textContent = `Currently working on: ${currentSection}. Next milestone at ${nextMilestone}% progress.`;
    }
}

// Update projections
function updateProjections(progress) {
    const path = careerPaths[currentPath];
    const projection = path.projections[timeFrame];
    
    // Calculate projected salary based on progress
    const baseSalary = parseInt(projection.salary.replace(/\D/g, ''));
    const projectedSalary = Math.round(baseSalary * (progress / 100));
    
    projectedSalaryEl.textContent = `$${projectedSalary.toLocaleString()}`;
    projectedRoleEl.textContent = projection.role;
    projectedProjectsEl.textContent = projection.projects;
    marketDemandEl.textContent = projection.demand;
    timeFrameTextEl.textContent = timeFrame;
    
    // Update efficiency score (random for demo purposes)
    const efficiency = Math.min(100, Math.max(60, 85 + (Math.random() * 10 - 5)));
    document.getElementById('efficiencyScore').textContent = `${Math.round(efficiency)}%`;
    document.getElementById('efficiencyBar').style.width = `${efficiency}%`;
}

// Update time frame
function updateTimeFrame(value) {
    timeFrame = parseInt(value);
    updateProjections(currentProgress);
}

// Update rewards
function updateRewards() {
    rewardsContainerEl.innerHTML = '';
    
    rewards.forEach(reward => {
        const isUnlocked = unlockedRewards.includes(reward.id);
        
        const rewardEl = document.createElement('div');
        rewardEl.className = `flex items-center gap-4 p-3 rounded-lg ${isUnlocked ? 'bg-yellow-50 reward-unlocked' : 'bg-gray-50'}`;
        
        rewardEl.innerHTML = `
            <div class="text-3xl ${isUnlocked ? 'text-yellow-500' : 'text-gray-400'}">${reward.icon}</div>
            <div class="flex-1">
                <h4 class="font-medium ${isUnlocked ? 'text-yellow-800' : 'text-gray-600'}">${reward.title}</h4>
                <p class="text-xs ${isUnlocked ? 'text-yellow-600' : 'text-gray-500'}">${reward.description}</p>
            </div>
            <div class="text-xs font-medium ${isUnlocked ? 'text-yellow-600' : 'text-gray-400'}">
                ${isUnlocked ? 'Unlocked!' : `${reward.progress}%`}
            </div>
        `;
        
        rewardsContainerEl.appendChild(rewardEl);
    });
    
    // Update reward count
    rewardCountEl.textContent = `${unlockedRewards.length}/${rewards.length}`;
    
    // Update latest achievement
    if (unlockedRewards.length > 0) {
        const latestReward = rewards.find(r => r.id === unlockedRewards[unlockedRewards.length - 1]);
        latestAchievementEl.textContent = `"${latestReward.title}" - ${latestReward.description}`;
    } else {
        latestAchievementEl.textContent = "Start your journey to earn your first achievement!";
    }
}

// Check for unlocked rewards
function checkRewards() {
    let newRewards = false;
    
    rewards.forEach(reward => {
        if (currentProgress >= reward.progress && !unlockedRewards.includes(reward.id)) {
            unlockedRewards.push(reward.id);
            showNotification(`üèÜ Reward Unlocked: ${reward.title}!`, 'success');
            newRewards = true;
        }
    });
    
    if (newRewards) {
        saveData();
        updateRewards();
    }
}

// Show time capsule form
function showTimeCapsuleForm() {
    document.getElementById('timeCapsuleForm').classList.add('hidden');
    document.getElementById('timeCapsuleInput').classList.remove('hidden');
}

// Hide time capsule form
function hideTimeCapsuleForm() {
    document.getElementById('timeCapsuleForm').classList.remove('hidden');
    document.getElementById('timeCapsuleInput').classList.add('hidden');
    document.getElementById('capsuleMessage').value = '';
}

// Save time capsule
function saveTimeCapsule() {
    const message = document.getElementById('capsuleMessage').value.trim();
    const unlockLevel = document.getElementById('unlockLevel').value;
    
    if (message === '') {
        alert('Please enter a message for your future self!');
        return;
    }
    
    const capsule = {
        id: Date.now(),
        message: message,
        unlockLevel: parseInt(unlockLevel),
        createdAt: new Date().toISOString(),
        unlocked: false
    };
    
    savedCapsules.push(capsule);
    saveData();
    
    hideTimeCapsuleForm();
    updateTimeCapsules();
    showNotification('üíå Time capsule saved! You\'ll see it again at ' + unlockLevel + '% progress.', 'success');
}

// Update time capsules
function updateTimeCapsules() {
    capsulesContainerEl.innerHTML = '';
    
    if (savedCapsules.length === 0) {
        emptyCapsulesEl.classList.remove('hidden');
        capsuleCountEl.textContent = '0';
        return;
    }
    
    emptyCapsulesEl.classList.add('hidden');
    capsuleCountEl.textContent = savedCapsules.filter(c => c.unlocked).length;
    
    // Sort capsules by unlock level (ascending)
    savedCapsules.sort((a, b) => a.unlockLevel - b.unlockLevel);
    
    savedCapsules.forEach(capsule => {
        if (!capsule.unlocked && currentProgress < capsule.unlockLevel) return;
        
        const capsuleEl = document.createElement('div');
        capsuleEl.className = `p-3 rounded-lg border ${capsule.unlocked ? 'bg-purple-50 border-purple-200' : 'bg-gray-50 border-gray-200'}`;
        
        const unlockedDate = capsule.unlocked ? new Date(capsule.unlockedAt).toLocaleDateString() : '';
        
        capsuleEl.innerHTML = `
            <div class="flex items-start gap-3">
                <div class="text-2xl mt-1 ${capsule.unlocked ? 'text-purple-500' : 'text-gray-400'}">üíå</div>
                <div class="flex-1">
                    <div class="flex justify-between items-start">
                        <h4 class="font-medium text-sm ${capsule.unlocked ? 'text-purple-800' : 'text-gray-600'}">
                            ${capsule.unlocked ? 'Opened at ' + capsule.unlockLevel + '%' : 'Will open at ' + capsule.unlockLevel + '%'}
                        </h4>
                        <span class="text-xs ${capsule.unlocked ? 'text-purple-600' : 'text-gray-500'}">
                            ${new Date(capsule.createdAt).toLocaleDateString()}
                        </span>
                    </div>
                    <p class="text-sm mt-1 ${capsule.unlocked ? 'text-purple-700' : 'text-gray-500'}">${capsule.message}</p>
                    ${capsule.unlocked ? `<p class="text-xs mt-1 text-purple-600">Unlocked on ${unlockedDate}</p>` : ''}
                </div>
            </div>
        `;
        
        capsulesContainerEl.appendChild(capsuleEl);
    });
}

// Check for unlocked capsules
function checkUnlockedCapsules() {
    let newCapsules = false;
    
    savedCapsules.forEach(capsule => {
        if (!capsule.unlocked && currentProgress >= capsule.unlockLevel) {
            capsule.unlocked = true;
            capsule.unlockedAt = new Date().toISOString();
            newCapsules = true;
            
            showNotification(`üíå Time capsule opened! Check your messages from the past.`, 'info');
        }
    });
    
    if (newCapsules) {
        saveData();
        updateTimeCapsules();
    }
}

// Update character count for time capsule message
function updateCharCount() {
    const message = document.getElementById('capsuleMessage').value;
    document.getElementById('charCount').textContent = message.length;
}

// Update resources
function updateResources() {
    resourcesContainerEl.innerHTML = '';
    
    const path = careerPaths[currentPath];
    
    path.resources.forEach(resource => {
        const resourceEl = document.createElement('div');
        resourceEl.className = 'p-3 bg-gray-50 rounded-lg hover:bg-white transition-colors cursor-pointer';
        
        resourceEl.innerHTML = `
            <div class="flex justify-between items-start">
                <h4 class="font-medium text-sm text-gray-800">${resource.title}</h4>
                <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full">${resource.type}</span>
            </div>
            <div class="flex items-center gap-3 mt-2">
                <span class="text-xs bg-gray-200 text-gray-800 px-2 py-1 rounded-full">${resource.difficulty}</span>
                <span class="text-xs text-gray-500">${resource.duration}</span>
            </div>
        `;
        
        resourcesContainerEl.appendChild(resourceEl);
    });
}

// Update job matches
function updateJobMatches() {
    const level = Math.floor(currentProgress / 25);
    const levels = ['Entry Level', 'Junior', 'Mid-Level', 'Senior', 'Expert'];
    const count = Math.min(23, Math.floor(currentProgress / 5));
    
    jobMatchesEl.textContent = `üéØ ${count} matches at ${levels[level]} level`;
}

// Update hours estimate
function updateHoursEstimate() {
    const baseHours = {
        'web-dev': 600,
        'ai-ml': 800,
        'blockchain': 700,
        'mobile-dev': 650
    };
    
    const modeMultipliers = {
        'casual': 1.5,
        'standard': 1,
        'intensive': 0.7,
        'bootcamp': 0.5
    };
    
    const totalHours = Math.round(baseHours[currentPath] * modeMultipliers[studyMode]);
    const remainingHours = Math.round(totalHours * (100 - currentProgress) / 100);
    
    hoursEstimateEl.textContent = `Est. ${remainingHours} hours remaining (${totalHours} total)`;
}

// Update study mode
function updateStudyMode() {
    studyMode = studyModeEl.value;
    saveData();
    updateHoursEstimate();
}

// Update study mode button
function updateStudyModeButton() {
    const now = new Date();
    const cooldownActive = lastStudySession && (now - lastStudySession) < 5 * 60 * 1000;
    
    if (cooldownActive) {
        studyBtnEl.disabled = true;
        studyBtnEl.classList.remove('bg-green-500', 'hover:bg-green-600');
        studyBtnEl.classList.add('bg-gray-400', 'cursor-not-allowed');
        
        sessionCooldownEl.classList.remove('hidden');
        
        // Update cooldown timer
        const secondsLeft = Math.ceil((5 * 60 * 1000 - (now - lastStudySession)) / 1000);
        cooldownTimerEl.textContent = secondsLeft;
        
        // Update timer every second
        if (sessionCooldown) clearInterval(sessionCooldown);
        sessionCooldown = setInterval(() => {
            const newSecondsLeft = parseInt(cooldownTimerEl.textContent) - 1;
            cooldownTimerEl.textContent = newSecondsLeft;
            
            if (newSecondsLeft <= 0) {
                clearInterval(sessionCooldown);
                sessionCooldown = null;
                updateStudyModeButton();
            }
        }, 1000);
    } else {
        studyBtnEl.disabled = false;
        studyBtnEl.classList.add('bg-green-500', 'hover:bg-green-600');
        studyBtnEl.classList.remove('bg-gray-400', 'cursor-not-allowed');
        
        sessionCooldownEl.classList.add('hidden');
    }
}

// Update streak counter
function updateStreakCounter() {
    streakCounterEl.textContent = `${studyStreak} day streak`;
}

// Simulate study session
function simulateStudySession() {
    const now = new Date();
    
    // Check if we should increment streak
    if (lastStudySession) {
        const lastDate = new Date(lastStudySession);
        const sameDay = lastDate.getDate() === now.getDate() && 
                       lastDate.getMonth() === now.getMonth() && 
                       lastDate.getFullYear() === now.getFullYear();
        
        if (!sameDay) {
            // Check if it's the next day (for streak)
            const nextDay = new Date(lastDate);
            nextDay.setDate(nextDay.getDate() + 1);
            
            const isNextDay = nextDay.getDate() === now.getDate() && 
                             nextDay.getMonth() === now.getMonth() && 
                             nextDay.getFullYear() === now.getFullYear();
            
            if (isNextDay) {
                studyStreak++;
            } else {
                studyStreak = 1; // Reset streak if not consecutive
            }
        }
    } else {
        studyStreak = 1; // First session
    }
    
    lastStudySession = now;
    
    // Add 5% progress (capped at 100)
    updateProgress(Math.min(100, currentProgress + 5));
    
    // Set cooldown
    updateStudyModeButton();
    
    // Save and update
    saveData();
    updateStreakCounter();
    
    showNotification('üìö Study session completed! +5% progress', 'success');
}

// Show notification
function showNotification(message, type) {
    const notification = document.createElement('div');
    notification.className = `notification p-4 rounded-lg shadow-lg ${type === 'success' ? 'bg-green-100 text-green-800' : type === 'error' ? 'bg-red-100 text-red-800' : 'bg-blue-100 text-blue-800'}`;
    notification.innerHTML = `
        <div class="flex items-center gap-3">
            <span class="text-xl">${type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : '‚ÑπÔ∏è'}</span>
            <span>${message}</span>
        </div>
    `;
    
    notificationContainerEl.appendChild(notification);
    
    // Show notification
    setTimeout(() => {
        notification.classList.add('show');
    }, 10);
    
    // Hide after 5 seconds
    setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => {
            notification.remove();
        }, 300);
    }, 5000);
}

// Initialize the app when DOM is loaded
document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>